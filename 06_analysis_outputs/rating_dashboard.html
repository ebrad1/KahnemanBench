
<!DOCTYPE html>
<html>
<head>
    <title>KahnemanBench Rating Results Dashboard</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
        }
        .metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .metric-card {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid #e9ecef;
        }
        .metric-value {
            font-size: 2em;
            font-weight: bold;
            margin: 10px 0;
        }
        .metric-label {
            color: #666;
            font-size: 0.9em;
        }
        .chart {
            margin: 20px 0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        .positive {
            color: #28a745;
        }
        .negative {
            color: #dc3545;
        }
        
        /* Gap matrix styles */
        .gap-matrix {
            overflow-x: auto;
            margin: 20px 0;
        }
        .gap-matrix table {
            font-size: 14px;
        }
        .gap-matrix td {
            text-align: center;
            font-weight: bold;
            color: white;
            min-width: 80px;
        }
        .gap-matrix th {
            font-size: 12px;
            white-space: nowrap;
        }
        .gap-matrix th.rotate {
            height: 140px;
            white-space: nowrap;
        }
        .gap-matrix th.rotate > div {
            transform: translate(25px, 51px) rotate(315deg);
            width: 30px;
        }
        .gap-matrix th.rotate > div > span {
            padding: 5px 10px;
        }
        .legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 10px 0;
            font-size: 12px;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .legend-box {
            width: 20px;
            height: 20px;
            border: 1px solid #ccc;
        }
        .tooltip {
            position: relative;
            display: inline-block;
        }
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: #555;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 12px;
            font-weight: normal;
        }
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>KahnemanBench Rating Results Dashboard</h1>
        <p style="text-align: center; color: #666;">Generated: 2025-06-25 12:22:32</p>
        
        <div class="metrics">
            <div class="metric-card">
                <div class="metric-label">Rater Models Analyzed</div>
                <div class="metric-value">1</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Avg Real Kahneman Score</div>
                <div class="metric-value">93.5</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Avg AI Response Score</div>
                <div class="metric-value">76.5</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Avg Score Gap</div>
                <div class="metric-value">17.0</div>
            </div>
        </div>
        
        <h2>Score Gap by Question and Rater</h2>
        <p style="text-align: center; color: #666;">Score Gap = Real Kahneman Score - AI Response Score</p>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-box" style="background-color: #1a5490;"></div>
                <span>Real > AI by 20+</span>
            </div>
            <div class="legend-item">
                <div class="legend-box" style="background-color: #3498db;"></div>
                <span>Real > AI by 10-20</span>
            </div>
            <div class="legend-item">
                <div class="legend-box" style="background-color: #85C1E9;"></div>
                <span>Real > AI by 0-10</span>
            </div>
            <div class="legend-item">
                <div class="legend-box" style="background-color: #F9B5AC;"></div>
                <span>AI > Real by 0-10</span>
            </div>
            <div class="legend-item">
                <div class="legend-box" style="background-color: #e74c3c;"></div>
                <span>AI > Real by 10-20</span>
            </div>
            <div class="legend-item">
                <div class="legend-box" style="background-color: #922B21;"></div>
                <span>AI > Real by 20+</span>
            </div>
        </div>
        
        <div class="gap-matrix">
            <table>
                <tr>
                    <th>Rater Model</th>
<th class="rotate"><div><span>demo 1</span></div></th><th class="rotate"><div><span>demo 2</span></div></th><th>Overall Avg</th></tr><tr><td><strong>gpt-4o</strong></td><td style="background-color: #3498db;" class="tooltip">
                    17.5
                    <span class="tooltiptext">demo_1<br>Gap: 17.5</span>
                </td><td style="background-color: #3498db;" class="tooltip">
                    16.5
                    <span class="tooltiptext">demo_2<br>Gap: 16.5</span>
                </td><td style="background-color: #3498db;">17.0</td></tr><tr><td><strong>Question Avg</strong></td><td style="background-color: #3498db;">17.5</td><td style="background-color: #3498db;">16.5</td><td style="background-color: #3498db;">17.0</td></tr>
            </table>
        </div>
        
        <h2>Score Comparison by Rater Model</h2>
        <div id="barChart" class="chart"></div>
        
        <h2>Score Gap Analysis</h2>
        <div id="gapChart" class="chart"></div>
        
        <h2>Heatmap: Score Gaps by Question</h2>
        <div id="heatmap" class="chart"></div>
        
        <h2>Detailed Results by Rater</h2>
        <table>
            <tr>
                <th>Rater Model</th>
                <th>Real Kahneman Avg</th>
                <th>AI Response Avg</th>
                <th>Score Gap</th>
                <th>Timestamp</th>
            </tr>

            <tr>
                <td><strong>gpt-4o</strong></td>
                <td>93.5</td>
                <td>76.5</td>
                <td class="positive">17.0</td>
                <td>2025-06-25T12:22:32</td>
            </tr>

        </table>
    </div>
    
    <script>
        // Bar chart data
        var raters = ["gpt-4o"];
        var realScores = [93.5];
        var aiScores = [76.5];
        
        var trace1 = {
            x: raters,
            y: realScores,
            name: 'Real Kahneman',
            type: 'bar',
            marker: { color: '#3498db' }
        };
        
        var trace2 = {
            x: raters,
            y: aiScores,
            name: 'AI Responses',
            type: 'bar',
            marker: { color: '#e74c3c' }
        };
        
        var barLayout = {
            barmode: 'group',
            title: 'Average Authenticity Scores by Rater Model',
            xaxis: { title: 'Rater Model' },
            yaxis: { title: 'Average Score' },
            height: 400
        };
        
        Plotly.newPlot('barChart', [trace1, trace2], barLayout);
        
        // Gap chart
        var gaps = [17.0];
        var gapColors = gaps.map(g => g > 0 ? '#2ecc71' : '#e74c3c');
        
        var gapTrace = {
            x: raters,
            y: gaps,
            type: 'bar',
            marker: { color: gapColors },
            text: gaps.map(g => g.toFixed(1)),
            textposition: 'auto'
        };
        
        var gapLayout = {
            title: 'Score Gap: Real Kahneman - AI Responses',
            xaxis: { title: 'Rater Model' },
            yaxis: { title: 'Score Gap', zeroline: true },
            height: 400,
            shapes: [{
                type: 'line',
                x0: 0,
                y0: 0,
                x1: 1,
                y1: 0,
                xref: 'paper',
                line: { color: 'black', width: 1 }
            }]
        };
        
        Plotly.newPlot('gapChart', [gapTrace], gapLayout);
        
        // Heatmap data
        var questionGaps = {"gpt-4o": {"demo_1": 17.5, "demo_2": 16.5}};
        var questions = ["demo_1", "demo_2"];
        var raterList = ["gpt-4o"];
        
        // Create matrix for heatmap
        var zValues = [];
        for (var i = 0; i < raterList.length; i++) {
            var row = [];
            for (var j = 0; j < questions.length; j++) {
                var gap = questionGaps[raterList[i]][questions[j]];
                row.push(gap !== undefined ? gap : null);
            }
            zValues.push(row);
        }
        
        var heatmapTrace = {
            z: zValues,
            x: questions.map(q => q.replace(/_/g, ' ')),
            y: raterList,
            type: 'heatmap',
            colorscale: [
                [0, '#922B21'],
                [0.25, '#e74c3c'],
                [0.4, '#F9B5AC'],
                [0.5, '#ffffff'],
                [0.6, '#85C1E9'],
                [0.75, '#3498db'],
                [1, '#1a5490']
            ],
            zmid: 0,
            colorbar: {
                title: 'Score Gap',
                titleside: 'right'
            },
            hoverongaps: false
        };
        
        var heatmapLayout = {
            title: 'Score Gaps by Question and Rater Model',
            xaxis: { 
                title: 'Question',
                tickangle: -45
            },
            yaxis: { title: 'Rater Model' },
            height: 500
        };
        
        Plotly.newPlot('heatmap', [heatmapTrace], heatmapLayout);
    </script>
</body>
</html>
